(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{59:function(e,t,n){e.exports=n(72)},64:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),l=n.n(i),o=(n(64),n(100)),c=n(102),s=n(103),u=n(98),d=Object(u.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"#9685c7",boxShadow:"2px 2px 2px 2px rgba(0,0,0,0.2)",position:"fixed"},title:{flexGrow:1,marginLeft:e.spacing(4),textShadow:"2px 2px 3px grey"}}})),m=function(){var e=d();return r.a.createElement("div",{className:e.root},r.a.createElement(o.a,{position:"static",className:e.appBar},r.a.createElement(c.a,null,r.a.createElement(s.a,{variant:"h6",className:e.title},"WeatherApp"))))},p=n(13),h=n.n(p),b=n(23),f=n(18),y=n(112),g=n(105),x=n(106),w=n(109),v=n(108),E=n(107),z=n(110),j=n(104),C=Object(u.a)({textContainer:{display:"flex",justifyContent:"center",padding:"10px"},current:{paddingTop:"5px",display:"flex",justifyContent:"space-between",fontFamily:"Montserrat, sans-serif",textShadow:"1px 1px 1px lightblue",fontSize:"0.9rem",fontWeight:"700"}}),k=function(e){var t=e.humidity,n=e.wind,a=C();return r.a.createElement(s.a,{variant:"subtitle2",className:a.current,color:"textSecondary",gutterBottom:!0},r.a.createElement(j.a,{className:a.textContainer},r.a.createElement("span",null,"\u0412\u0435\u0442\u0435\u0440: ",n)),r.a.createElement(j.a,{className:a.textContainer},r.a.createElement("span",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",t)))},O=Object(u.a)({cityName:{fontFamily:"Montserrat, sans-serif",padding:"15px",textShadow:"2px 2px 3px grey"}}),N=function(e){var t=O(),n=e.city;return r.a.createElement(s.a,{gutterBottom:!0,variant:"h4",component:"h4",align:"center",className:t.cityName},n)},S={200:{label:"thunderstorm with light rain",icon:"thunderstorm"},201:{label:"thunderstorm with rain",icon:"thunderstorm"},202:{label:"thunderstorm with heavy rain",icon:"thunderstorm"},210:{label:"light thunderstorm",icon:"lightning"},211:{label:"thunderstorm",icon:"lightning"},212:{label:"heavy thunderstorm",icon:"lightning"},221:{label:"ragged thunderstorm",icon:"lightning"},230:{label:"thunderstorm with light drizzle",icon:"thunderstorm"},231:{label:"thunderstorm with drizzle",icon:"thunderstorm"},232:{label:"thunderstorm with heavy drizzle",icon:"thunderstorm"},300:{label:"light intensity drizzle",icon:"sprinkle"},301:{label:"drizzle",icon:"sprinkle"},302:{label:"heavy intensity drizzle",icon:"rain"},310:{label:"light intensity drizzle rain",icon:"rain"},311:{label:"drizzle rain",icon:"rain"},312:{label:"heavy intensity drizzle rain",icon:"rain"},313:{label:"shower rain and drizzle",icon:"rain"},314:{label:"heavy shower rain and drizzle",icon:"rain"},321:{label:"shower drizzle",icon:"sprinkle"},500:{label:"light rain",icon:"sprinkle"},501:{label:"moderate rain",icon:"rain"},502:{label:"heavy intensity rain",icon:"rain"},503:{label:"very heavy rain",icon:"rain"},504:{label:"extreme rain",icon:"rain"},511:{label:"freezing rain",icon:"rain-mix"},520:{label:"light intensity shower rain",icon:"showers"},521:{label:"shower rain",icon:"showers"},522:{label:"heavy intensity shower rain",icon:"showers"},531:{label:"ragged shower rain",icon:"storm-showers"},600:{label:"light snow",icon:"snow"},601:{label:"snow",icon:"sleet"},602:{label:"heavy snow",icon:"snow"},611:{label:"sleet",icon:"rain-mix"},612:{label:"shower sleet",icon:"rain-mix"},615:{label:"light rain and snow",icon:"rain-mix"},616:{label:"rain and snow",icon:"rain-mix"},620:{label:"light shower snow",icon:"rain-mix"},621:{label:"shower snow",icon:"snow"},622:{label:"heavy shower snow",icon:"snow"},701:{label:"mist",icon:"showers"},711:{label:"smoke",icon:"smoke"},721:{label:"haze",icon:"day-haze"},731:{label:"sand, dust whirls",icon:"dust"},741:{label:"fog",icon:"day-fog"},751:{label:"sand",icon:"cloudy-gusts"},761:{label:"dust",icon:"dust"},762:{label:"volcanic ash",icon:"dust"},771:{label:"squalls",icon:"cloudy-gusts"},781:{label:"tornado",icon:"tornado"},800:{label:"clear sky",icon:"day-sunny"},801:{label:"few clouds",icon:"day-cloudy-gusts"},802:{label:"scattered clouds",icon:"day-cloudy-gusts"},803:{label:"broken clouds",icon:"day-cloudy-gusts"},804:{label:"overcast clouds",icon:"day-sunny-overcast"},900:{label:"tornado",icon:"tornado"},901:{label:"tropical storm",icon:"storm-showers"},902:{label:"hurricane",icon:"hurricane"},903:{label:"cold",icon:"snowflake-cold"},904:{label:"hot",icon:"hot"},905:{label:"windy",icon:"windy"},906:{label:"hail",icon:"hail"},951:{label:"calm",icon:"sunny"},952:{label:"light breeze",icon:"cloudy-gusts"},953:{label:"gentle breeze",icon:"cloudy-gusts"},954:{label:"moderate breeze",icon:"cloudy-gusts"},955:{label:"fresh breeze",icon:"cloudy-gusts"},956:{label:"strong breeze",icon:"cloudy-gusts"},957:{label:"high wind, near gale",icon:"strong-wind"},958:{label:"gale",icon:"cloudy-gusts"},959:{label:"severe gale",icon:"cloudy-gusts"},960:{label:"storm",icon:"thunderstorm"},961:{label:"violent storm",icon:"thunderstorm"},962:{label:"hurricane",icon:"cloudy-gusts"}},T=Object(u.a)({root:{width:545,minWidth:350,border:"3px solid lightblue",background:"linear-gradient(45deg, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)",boxShadow:"2px 2px 5px 5px rgba(0, 0, 0, 0.2)"},wi:{color:"#fff",fontSize:"55px",textShadow:"2px 2px 3px grey"},mediaContainer:{display:"flex",justifyContent:"space-around",padding:"30px 15px 15px 15px"},spanStyle:{marginLeft:"5vw",textShadow:"2px 2px 3px grey"},textContainer:{display:"flex",justifyContent:"center",padding:"15px"}}),_=function(e){var t=T(),n=e.onOpen,a=e.data,i=e.setCity,l=a.cityName,o=a.iconId,c=a.currTemp,s=a.humidity,u=a.wind,d="wi wi-".concat(S[o].icon);return r.a.createElement(g.a,{className:t.root},r.a.createElement(x.a,null,r.a.createElement(j.a,{className:t.mediaContainer},r.a.createElement(E.a,{className:"".concat(d," ").concat(t.wi),src:d},r.a.createElement("span",{className:t.spanStyle},c,"\xb0C"))),r.a.createElement(v.a,null,r.a.createElement(N,{city:l}),r.a.createElement(k,{humidity:s,wind:u}))),r.a.createElement(w.a,null,r.a.createElement(j.a,{className:t.textContainer},r.a.createElement(z.a,{variant:"outlined",color:"default",onClick:function(){n(!0),i(l)}},"\u041f\u041e\u0414\u0420\u041e\u0411\u041d\u0415\u0415"))))},W=Object(u.a)((function(e){return{root:{margin:e.spacing(1),padding:e.spacing(2),display:"flex",justifyContent:"center"}}})),B=function(e){var t=e.children,n=W();return r.a.createElement("div",{className:n.root},t)},F=n(113),I=n(114),M=n(111),L=n(116),q=n(47),G=n.n(q),H=n(29),J=Object(u.a)((function(e){var t;return{root:{width:"100%",background:"transparent"},heading:(t={fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},Object(H.a)(t,"fontSize","1.1rem"),Object(H.a)(t,"color","#8299bf"),t),wi:{color:"#8299bf",fontSize:"25px"},iconContainer:{display:"flex",justifyContent:"space-around",paddingRight:"0"},degreesSpan:{marginLeft:"10px",fontSize:"1.3rem",color:"#8299bf"}}})),R=function(e){var t=e.data,n=e.idx,a=e.expanded,i=e.handleChange,l=J(),o=t.dayOfWeek,c=t.iconId,u=t.maxTemp,d=t.minTemp,m=t.humidity,p=t.wind,h="wi wi-".concat(S[c].icon);return r.a.createElement(I.a,{expanded:a==="panel".concat(n),onChange:i("panel".concat(n))},r.a.createElement(L.a,{expandIcon:r.a.createElement(G.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(s.a,{className:l.heading},o),r.a.createElement(j.a,{className:l.iconContainer},r.a.createElement(E.a,{className:"".concat(h," ").concat(l.wi),src:h}),r.a.createElement("span",{className:l.degreesSpan},u,"\xb0/ ",d,"\xb0"))),r.a.createElement(M.a,{style:{display:"block",padding:"5px"}},r.a.createElement(k,{humidity:m,wind:p})))},A=function(e){var t=J(),n=r.a.useState(!1),a=Object(f.a)(n,2),i=a[0],l=a[1],o=function(e){return function(t,n){l(!!n&&e)}},c=e.data;return r.a.createElement("div",{className:t.root},c.map((function(e,t){return r.a.createElement(R,{key:t,data:e,idx:t,expanded:i,handleChange:o})})))},P=Object(u.a)({root:{width:545,minWidth:350,maxHeight:"100vh",maxWidth:"90vw",margin:"auto",border:"3px solid lightblue",background:"linear-gradient(45deg, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)",boxShadow:"2px 2px 5px 5px rgba(0, 0, 0, 0.2);",overflowY:"auto"},container:{display:"flex",justifyContent:"center",padding:"15px"},spanStyle:{textShadow:"2px 2px 3px grey",fontSize:"0.9rem",fontFamily:"Montserrat, sans-serif"}}),Y=function(e){var t=e.onClose,n=e.data,a=n[0].cityName,i=P();return r.a.createElement(g.a,{className:i.root},r.a.createElement(x.a,null,r.a.createElement(v.a,null,r.a.createElement(N,{city:a}),r.a.createElement(s.a,{variant:"subtitle2",gutterBottom:!0},r.a.createElement(j.a,{className:i.container},r.a.createElement("span",{className:i.spanStyle},"\u041f\u043e\u0433\u043e\u0434\u0430 \u043d\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0449\u0438\u0435 \u0434\u043d\u0438"))),r.a.createElement(A,{data:n}))),r.a.createElement(w.a,null,r.a.createElement(j.a,{className:i.container},r.a.createElement(z.a,{variant:"outlined",color:"default",onClick:t},"\u0417\u0410\u041a\u0420\u042b\u0422\u042c"))))},D=function(e){var t=e.open,n=e.setOpen,a=e.setCity,i=e.data.forecast,l=function(){n(!1),a(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{open:t,onClose:l,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",justifyContent:"center"}},r.a.createElement(Y,{onClose:l,data:i})))},K=function(e){var t=e.setError;return r.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){return t(!1)},style:{margin:100}},"\u041e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u043e\u0440\u043e\u0431\u0443\u0435\u043c \u0435\u0449\u0435 \u0440\u0430\u0437!")},Q=Object(u.a)((function(){return{root:{flex:"1 1 auto"},container:{maxWidth:"100%",minHeight:"100vh",margin:"auto",backgroundColor:"#e1e5eb",paddingTop:"8vh"}}})),U=n(48),V=Object(U.a)({},{key:"baeeaa2246e81e232977e814a40f21de"}).key,X=n(40),Z=n.n(X),$=(n(71),{491422:"\u0421\u043e\u0447\u0438",498817:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",524901:"\u041c\u043e\u0441\u043a\u0432\u0430",551487:"\u041a\u0430\u0437\u0430\u043d\u044c"}),ee=function(e){return e.slice(0,10)},te=function(e){return e.slice(-8)},ne=function(e){return"".concat(Math.round(e-273.15))},ae=function(e){return"".concat(e,"%")},re=function(e){return"".concat(Math.round(e)," \u043c/\u0441")},ie=function(e,t){var n=ee(e[0].dt_txt),a=[e[0]],r=e.filter((function(e){return ee(e.dt_txt)!==n})),i=r.filter((function(e){return"00:00:00"===te(e.dt_txt)})).slice(0,4).map((function(e){return e.main.temp_min})),l=r.filter((function(e){return"12:00:00"===te(e.dt_txt)})).slice(0,4);return l.forEach((function(e,t){return e.main.temp_min=i[t]})),a.concat(l).map((function(e){return function(e,t){var n=t.id,a=e.main,r=e.weather,i=e.wind,l=e.dt_txt;return{cityName:$[n],dayOfWeek:Z()(ee(l)).locale("ru").format("dddd"),iconId:r[0].id,currTemp:ne(a.temp),maxTemp:ne(a.temp_max),minTemp:ne(a.temp_min),humidity:ae(a.humidity),wind:re(i.speed)}}(e,t)}))},le=function(e){var t=e.list,n=e.city,a=ie(t,n);return{current:a[0],forecast:a.slice(1)}},oe=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat(V),a=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=4,a(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.values($),e.prev=1,e.next=4,Promise.all(t.map(oe));case 4:return n=e.sent,a=n.map(le),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Could not fetch");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],i=t[1],l=Object(a.useState)(null),o=Object(f.a)(l,2),c=o[0],s=o[1],u=Object(a.useState)(!1),d=Object(f.a)(u,2),m=d[0],p=d[1],g=Object(a.useState)([]),x=Object(f.a)(g,2),w=x[0],v=x[1],E=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:t=e.sent,v(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){E()}),[n]);var z=Q();if(n)return r.a.createElement(K,{setError:i});if(0===w.length)return null;var j=w.find((function(e){return e.current.cityName===c}));return r.a.createElement(r.a.Fragment,null,m?r.a.createElement(D,{open:m,setOpen:p,setCity:s,data:j}):null,r.a.createElement("div",{className:z.root},r.a.createElement(y.a,{container:!0,spacing:3,className:z.container},w.map((function(e,t){var n=e.current;return r.a.createElement(y.a,{key:t,item:!0,xs:12,sm:12,md:6,lg:6,xl:3},r.a.createElement(B,null,r.a.createElement(_,{onOpen:p,data:n,setCity:s})))})))))},ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(se,null))};l.a.render(r.a.createElement(ue,null),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.3bba2b56.chunk.js.map